<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Espaço Encantado</title>
    <!-- ajustado para apontar ao arquivo CSS na pasta css -->
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
    <nav class="navbar" role="navigation" aria-label="Barra de navegação">
        <a href="#" class="brand-link" onclick="window.scrollTo({top:0,behavior:'smooth'});return false;">
            <!-- usei a imagem que você colocou (substitua o caminho se necessário) -->
            <img src="imagens/imagens_index/logoec.png" alt="Espaço Encantado" class="brand-logo">
        </a>

        <form class="nav-search" role="search" action="#" onsubmit="return false;">
            <input type="search" name="q" placeholder="Buscar..." aria-label="Pesquisar">
            <div class="search-suggestions" id="searchSuggestions">
                <!-- As sugestões serão preenchidas aqui -->
            </div>
        </form>

        <!-- overlay removed from inside nav; moved to end of body to keep navbar above overlay -->

        <div class="right">
            <button class="btn login" type="button">Login</button>
            <button class="hamburger" aria-label="Abrir menu" title="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Introdução no topo com fundo cinza claro -->
    <section class="intro" role="region" aria-label="Introdução">
        <h1>Seu sonho em forma de festa!</h1>
        <h1>Bem-vindo ao Espaço Encantado!</h1> <!-- corrigido: usar <h2> -->
        <p>Aqui, cada detalhe é pensado para
transformar o seu evento em um momento
único e cheio de magia.</p>
    </section>

    <!-- Dois blocos side-by-side com títulos acima -->
    <section class="columns-section" role="region" aria-label="Objetivo e Serviços">
        <div class="columns">
            <div class="column">
                <h3 class="column-title">Nosso objetivo</h3>
                <div class="box">
                    <p>A Espaço Encantado tem como
objetivo tornar cada festa incrível,
transformando sonhos em realidade e
criando momentos mágicos!</p>
                </div>
            </div>

            <div class="column">
                <h3 class="column-title">Serviços</h3>
                <div class="box">
                    <p>Nossa loja oferece tudo para a sua
comemoração: decorações, brinquedos e
artigos de festa para tornar cada
momento inesquecível!</p>
                </div>
            </div>
            
        </div>
    </section>

    <!-- faixa dos balões: imagem atravessa a viewport inteira como uma faixa horizontal -->
    <div class="baloes-band" aria-hidden="true">
        <img src="imagens/imagens_index/baloes.png" alt="" class="baloes-img">

        <!-- floating cards sobre os balões (dois cards, lado a lado, nunca empilham) -->
        <div class="floating-cards" aria-label="Cards flutuantes">
            <div class="floating-column">
                <div class="floating-card">
                    <h4 class="floating-title">
                        <!-- relógio SVG minimal -->
                        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="9"></circle>
                            <path d="M12 7v5l3 2"></path>
                        </svg>
                        Horários
                    </h4>
                    <div class="floating-content">
                        <p>Segunda: 13h30 – 18h00
Terça a Sexta: 08h00 – 18h00
Sábado: 08h00 – 12h00
Domingo: Fechado
</p>
                    </div>
                </div>
            </div>

            <div class="floating-column">
                <div class="floating-card">
                    <h4 class="floating-title">
                        <!-- pin SVG minimal -->
                        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 10c0 6-9 12-9 12S3 16 3 10a9 9 0 1 1 18 0z"></path>
                            <circle cx="12" cy="10" r="3"></circle>
                        </svg>
                        Localização
                    </h4>
                    <div class="floating-content">
                        <p>Estamos localizados na R. Ricardo
Inácio, em Praia Grande – SC. Venha
nos visitar e encantar-se com nossas
decorações e serviços — esperamos
por você!</p>
                    </div>
                </div>
            </div>
        </div>

    </div> <!-- .baloes-band -->

    <!-- seção: Conheça nossas decorações + carrossel (sem imagens por enquanto) -->
    <section class="decor-section" aria-label="Conheça nossas decorações">
        <h2 class="decor-title">Conheça nossas decorações, clique para saber mais!</h2>

        <div class="decor-carousel-wrap">
            <button class="carousel-nav prev" aria-label="Anterior"></button>

            <div class="decor-carousel" tabindex="0" aria-roledescription="carrossel de imagens">
                <div class="decor-slide" role="group" aria-label="Slide 1"></div>
                <div class="decor-slide" role="group" aria-label="Slide 2"></div>
                <div class="decor-slide" role="group" aria-label="Slide 3"></div>
                <div class="decor-slide" role="group" aria-label="Slide 4"></div>
            </div>

            <div class="carousel-dots" aria-hidden="false"></div>

            <button class="carousel-nav next" aria-label="Próximo"></button>
        </div>
    </section>


<section class="titulo-baloes-section">
    
    <div class="titulo-baloes-container">

        <img src="imagens/imagens_index/titulo_baloes.png"
             alt="Título decorativo"
             class="titulo-baloes-img">

        <!-- TÍTULO SOBRE A IMAGEM -->
        <div class="titulo-baloes-overlay">
            <h2 class="titulo-baloes-texto">
                Deseja acessar nossos catálogos?
            </h2>
        </div>

    </div>

    <!-- BARRA DE BUSCA FORA DA IMAGEM -->
    <div class="titulo-baloes-search">
        <svg viewBox="0 0 24 24">
            <circle cx="11" cy="11" r="7"></circle>
            <line x1="16.65" y1="16.65" x2="21" y2="21"></line>
        </svg>

        <input type="search" placeholder="Buscar...">
    </div>

</section>

<!-- Seção: quatro cards de catálogo abaixo do título -->
<section class="catalog-section" aria-label="Catálogos">
    <div class="catalog-grid">
        <div class="catalog-card">
            <h3 class="catalog-card-title">Brinquedos</h3>
        </div>
        <div class="catalog-card">
            <h3 class="catalog-card-title">Decorações</h3>
        </div>
        <div class="catalog-card">
            <h3 class="catalog-card-title">Kit de montagem</h3>
        </div>
        <div class="catalog-card">
            <h3 class="catalog-card-title">Festa infantil</h3>
        </div>
    </div>
</section>

<!-- Seção: Nossa história (com decorações em cima/embaixo) -->
<div class="history-title-wrapper">
    <h2 class="history-title">Conheça um pouco da nossa história!</h2>
</div>

<section class="history-section" aria-label="Nossa história">
    <div class="history-decor history-decor-top" aria-hidden="true">
        <img src="imagens/imagens_index/bltopo.png" alt="" class="history-deco-img top">
    </div>

    <div class="history-inner">

        <div class="history-box">
            <div class="history-column">
                <p>O ponto de partida da loja Espaço Encantado ocorreu em 2005, um período marcado por desafios e recursos limitados. A proprietária Elisabete, com poucos meios para investir, começou utilizando materiais simples como folhas de E.V.A., TNT e isopor em suas primeiras decorações.</p>
            </div>

            <div class="history-divider" aria-hidden="true"></div>

            <div class="history-column">
                <p>Com o tempo, iniciou sua caminhada como empreendedora, investindo em artigos para festas e montando sua primeira loja na sala de casa. A partir daí, o negócio evoluiu gradualmente até se consolidar e se tornar a grande realizadora de sonhos que é hoje.</p>
            </div>
        </div>
    </div>

    <div class="history-decor history-decor-bottom" aria-hidden="true">
        <img src="imagens/imagens_index/blfundo.png" alt="" class="history-deco-img bottom">
    </div>
</section>

<!-- Seção: Login com balões e botões -->
<section class="login-section" aria-label="Acesso">
    <div class="login-text">
        <h3 class="login-title">Faça seu login para desfrutar<br>dos nossos serviços</h3>
        <div class="login-arrow" aria-hidden="true">→</div>
    </div>

    <div class="login-visual">
        <img src="imagens/imagens_index/baloeslogin.png" alt="" class="login-balloons">
        <!-- Espaço para botões que serão adicionados depois -->
        <div class="login-buttons">
            <button class="login-btn" type="button">
                <svg class="login-user-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                LOGIN
            </button>
        </div>
    </div>
</section>

    <script>
    // tratamento da barra de pesquisa com dropdown de sugestões
    (function() {
        const searchInput = document.querySelector('.nav-search input');
        const suggestions = document.getElementById('searchSuggestions');
        const overlay = document.getElementById('searchOverlay');
        
        const mockSuggestions = [
            'Brinquedos',
            'Decorações',
            'Kit de montagem',
            'Festa infantil'
        ];
        
        function openSearch() {
            suggestions.classList.add('active');
            overlay.classList.add('active');
            document.body.classList.add('search-open');
            // prevent page scroll while suggestions open
            document.documentElement.style.overflow = 'hidden';
            document.body.style.overflow = 'hidden';
        }
        
        function closeSearch() {
            suggestions.classList.remove('active');
            overlay.classList.remove('active');
            searchInput.value = '';
            document.body.classList.remove('search-open');
            document.documentElement.style.overflow = '';
            document.body.style.overflow = '';
        }
        
        function updateSuggestions(query) {
            if (!query.trim()) {
                suggestions.innerHTML = '';
                closeSearch();
                return;
            }
            
            const filtered = mockSuggestions.filter(s => 
                s.toLowerCase().includes(query.toLowerCase())
            );
            
            if (filtered.length === 0) {
                suggestions.innerHTML = '<div style="padding:12px;color:#999;">Nenhum resultado encontrado</div>';
                openSearch();
                return;
            }
            
            suggestions.innerHTML = filtered.map(s => 
                `<div class="search-suggestions-item">${s}</div>`
            ).join('');
            
            openSearch();
        }
        
        searchInput.addEventListener('focus', openSearch);
        searchInput.addEventListener('input', (e) => updateSuggestions(e.target.value));

        // when input loses focus, close suggestions unless focus moved to the suggestions
        searchInput.addEventListener('blur', () => {
            setTimeout(() => {
                const active = document.activeElement;
                if (!suggestions.contains(active) && active !== searchInput) {
                    closeSearch();
                }
            }, 150);
        });

        // click on a suggestion: fill input and close
        suggestions.addEventListener('click', (e) => {
            const item = e.target.closest('.search-suggestions-item');
            if (!item) return;
            searchInput.value = item.textContent.trim();
            closeSearch();
        });

        // allow Esc to close the drawer
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeSearch(); });

        overlay.addEventListener('click', closeSearch);
    })();
    
    (function(){
        const container = document.querySelector('.decor-carousel');
        if (!container) return;

        const prev = document.querySelector('.carousel-nav.prev');
        const next = document.querySelector('.carousel-nav.next');
        const dotsWrap = document.querySelector('.carousel-dots');
        const slides = Array.from(container.querySelectorAll('.decor-slide'));

        // cria bolinhas (dots)
        slides.forEach((_, i) => {
            const d = document.createElement('button');
            d.className = 'carousel-dot';
            d.type = 'button';
            d.setAttribute('aria-label', 'Ir para o slide ' + (i+1));
            d.addEventListener('click', () => slides[i].scrollIntoView({behavior: 'smooth', inline: 'center'}));
            dotsWrap.appendChild(d);
        });
        const dots = Array.from(dotsWrap.children);

        function updateActive() {
            const cRect = container.getBoundingClientRect();
            let closest = 0;
            let minDist = Infinity;
            slides.forEach((s, idx) => {
                const sRect = s.getBoundingClientRect();
                const sCenter = sRect.left + sRect.width/2;
                const cCenter = cRect.left + cRect.width/2;
                const dist = Math.abs(sCenter - cCenter);
                if (dist < minDist) { minDist = dist; closest = idx; }
            });
            dots.forEach((b, i) => b.classList.toggle('active', i === closest));
            container.setAttribute('data-index', closest);
        }

        // next/prev handlers
        function go(delta) {
            const idx = Number(container.getAttribute('data-index') || 0);
            const target = Math.max(0, Math.min(slides.length - 1, idx + delta));
            slides[target].scrollIntoView({behavior: 'smooth', inline: 'center'});
        }
        prev && prev.addEventListener('click', () => go(-1));
        next && next.addEventListener('click', () => go(1));

        // keyboard
        container.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') go(1);
            if (e.key === 'ArrowLeft') go(-1);
        });

        // atualizar indicador durante rolagem - rAF para performance
        let rafId = null;
        function onScroll() {
            if (rafId) cancelAnimationFrame(rafId);
            rafId = requestAnimationFrame(() => { updateActive(); rafId = null; });
        }
        container.addEventListener('scroll', onScroll, { passive: true });
        window.addEventListener('resize', onScroll);

        // init
        slides[0].scrollIntoView({behavior: 'auto', inline: 'center'});
        updateActive();
    })();
    </script>

    <script>
        // esconde a navbar quando o usuário chega perto do final da página
        (function () {
            const navbar = document.querySelector('.navbar');
            if (!navbar) return;
            const HIDE_THRESHOLD = 150; // px a partir do final da página

            function checkHide() {
                const doc = document.documentElement;
                const distanceToBottom = doc.scrollHeight - (window.scrollY + window.innerHeight);
                navbar.classList.toggle('hidden', distanceToBottom < HIDE_THRESHOLD);
            }

            // verifica em load/scroll/resize
            window.addEventListener('scroll', checkHide, { passive: true });
            window.addEventListener('resize', checkHide);
            document.addEventListener('DOMContentLoaded', checkHide);
            // chamada inicial no caso da página já estar rolada
            checkHide();
        })();
    </script>
        <!-- overlay que escurece a página: fica no final do body para ficar abaixo da navbar -->
        <div class="search-overlay" id="searchOverlay"></div>
</body>
</html>
